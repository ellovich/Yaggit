<ResourceDictionary xmlns="https://github.com/avaloniaui" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:c="using:CoreUI.Controls">
    <Design.PreviewWith>
        <c:TitleBar Width="300" Height="40" />
    </Design.PreviewWith>

    <ControlTheme x:Key="{x:Type c:TitleBar}" TargetType="c:TitleBar">
        <Setter Property="ZIndex" Value="1" />
        <Setter Property="CornerRadius" Value="5 5 0 0" />
        <Setter Property="VerticalAlignment" Value="Top" />
        <Setter Property="HorizontalAlignment" Value="Stretch" />
        <Setter Property="Template">
            <ControlTemplate TargetType="c:TitleBar">
                <Panel Background="{TemplateBinding Background}">
                    <Border
                        Background="{TemplateBinding Background}"
                        CornerRadius="{TemplateBinding CornerRadius}"
                        IsHitTestVisible="True"
                        Name="PART_Background"
                        />
                    <Grid HorizontalAlignment="Stretch" ColumnDefinitions="Auto, *, Auto, Auto">
                        <ContentPresenter Grid.Column="0" Content="{TemplateBinding LeftContent}" IsVisible="{TemplateBinding IsTitleVisible}" />
                        <ContentPresenter Grid.Column="1" Content="{TemplateBinding Content}" IsVisible="{TemplateBinding IsTitleVisible}" />
                        <ContentPresenter Grid.Column="2" Content="{TemplateBinding RightContent}" IsVisible="{TemplateBinding IsTitleVisible}" />
                        <c:CaptionButtons
                            Grid.Column="3"
                            Margin="2 2"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            DockPanel.Dock="Right"
                            Foreground="{TemplateBinding Foreground}"
                            Name="PART_CaptionButtons"
                            />
                    </Grid>
                </Panel>
            </ControlTemplate>
        </Setter>
    </ControlTheme>

</ResourceDictionary>